{
  "__inputs": [
    {
      "name": "DS_INFLUXDB_(INVERTER)",
      "label": "InfluxDB (inverter)",
      "description": "",
      "type": "datasource",
      "pluginId": "influxdb",
      "pluginName": "InfluxDB"
    },
    {
      "name": "DS_SUN_AND MOON",
      "label": "Sun and Moon",
      "description": "",
      "type": "datasource",
      "pluginId": "fetzerch-sunandmoon-datasource",
      "pluginName": "Sun and Moon"
    },
    {
      "name": "DS_INFLUXDB_(PVFORECAST)",
      "label": "InfluxDB (pvforecast)",
      "description": "",
      "type": "datasource",
      "pluginId": "influxdb",
      "pluginName": "InfluxDB"
    },
    {
      "name": "DS_INFLUXDB_(ENERGYPRICES)",
      "label": "InfluxDB (energyprices)",
      "description": "",
      "type": "datasource",
      "pluginId": "influxdb",
      "pluginName": "InfluxDB"
    },
    {
      "name": "DS_INVERTER_STATUS POWER FLOW",
      "label": "Inverter status power flow",
      "description": "",
      "type": "datasource",
      "pluginId": "marcusolsson-json-datasource",
      "pluginName": "JSON API"
    },
    {
      "name": "VAR_TZ",
      "type": "constant",
      "label": "Timezone",
      "value": "Europe/Vienna",
      "description": ""
    }
  ],
  "__elements": {
    "bb6b10a7-eeec-4e0d-9d8d-3d77ab01fe6a": {
      "name": "Power flow",
      "uid": "bb6b10a7-eeec-4e0d-9d8d-3d77ab01fe6a",
      "kind": 1,
      "model": {
        "datasource": {
          "type": "marcusolsson-json-datasource",
          "uid": "${DS_INVERTER_STATUS POWER FLOW}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "blue",
                  "value": null
                },
                {
                  "color": "yellow",
                  "value": 0
                }
              ]
            },
            "unit": "watt"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Solar Energy"
              },
              "properties": [
                {
                  "id": "min",
                  "value": 0
                },
                {
                  "id": "max",
                  "value": 10300
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Grid Usage"
              },
              "properties": [
                {
                  "id": "thresholds",
                  "value": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 0
                      }
                    ]
                  }
                },
                {
                  "id": "custom.neutral",
                  "value": 0
                },
                {
                  "id": "min",
                  "value": -10000
                },
                {
                  "id": "max",
                  "value": 10000
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Home Usage"
              },
              "properties": [
                {
                  "id": "max",
                  "value": 0
                },
                {
                  "id": "custom.neutral",
                  "value": 0
                },
                {
                  "id": "min",
                  "value": -10000
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Storage"
              },
              "properties": [
                {
                  "id": "thresholds",
                  "value": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "super-light-purple",
                        "value": null
                      },
                      {
                        "color": "dark-purple",
                        "value": 0
                      }
                    ]
                  }
                },
                {
                  "id": "custom.neutral",
                  "value": 0
                },
                {
                  "id": "min",
                  "value": -5000
                },
                {
                  "id": "max",
                  "value": 5000
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Charge"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "percent"
                },
                {
                  "id": "thresholds",
                  "value": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "dark-green",
                        "value": null
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        "options": {
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true,
          "text": {
            "valueSize": 20
          }
        },
        "pluginVersion": "10.0.3",
        "targets": [
          {
            "cacheDurationSeconds": 0,
            "datasource": {
              "type": "marcusolsson-json-datasource",
              "uid": "c22db054-79a4-46c1-a749-9a7556a2a4b1"
            },
            "fields": [
              {
                "jsonPath": "$.site.P_PV",
                "name": "Solar Energy"
              },
              {
                "jsonPath": "$.site.P_Load",
                "language": "jsonpath",
                "name": "Home Usage"
              },
              {
                "jsonPath": "$.site.P_Grid",
                "language": "jsonpath",
                "name": "Grid Usage"
              },
              {
                "jsonPath": "$.site.P_Akku",
                "language": "jsonpath",
                "name": "Storage"
              },
              {
                "jsonPath": "$.inverters[0].SOC",
                "language": "jsonpath",
                "name": "Charge"
              }
            ],
            "method": "GET",
            "queryParams": "",
            "refId": "A",
            "urlPath": ""
          }
        ],
        "title": "Power flow",
        "type": "gauge"
      }
    },
    "e7006c4d-5436-4fb5-b22a-806f657dd36d": {
      "name": "Power flow text",
      "uid": "e7006c4d-5436-4fb5-b22a-806f657dd36d",
      "kind": 1,
      "model": {
        "datasource": {
          "type": "marcusolsson-json-datasource",
          "uid": "${DS_INVERTER_STATUS POWER FLOW}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "blue",
                  "value": null
                }
              ]
            },
            "unit": "watt"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Battery"
              },
              "properties": [
                {
                  "id": "mappings",
                  "value": [
                    {
                      "options": {
                        "from": -1,
                        "result": {
                          "color": "text",
                          "index": 0,
                          "text": "Idle"
                        },
                        "to": 1
                      },
                      "type": "range"
                    },
                    {
                      "options": {
                        "from": -20000,
                        "result": {
                          "color": "super-light-purple",
                          "index": 1,
                          "text": "Charging"
                        },
                        "to": -1
                      },
                      "type": "range"
                    },
                    {
                      "options": {
                        "from": 1,
                        "result": {
                          "color": "dark-purple",
                          "index": 2,
                          "text": "Discharging"
                        },
                        "to": 20000
                      },
                      "type": "range"
                    }
                  ]
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Grid"
              },
              "properties": [
                {
                  "id": "mappings",
                  "value": [
                    {
                      "options": {
                        "from": -20000,
                        "result": {
                          "color": "green",
                          "index": 0,
                          "text": "Feeding in"
                        },
                        "to": -50
                      },
                      "type": "range"
                    },
                    {
                      "options": {
                        "from": 50,
                        "result": {
                          "color": "red",
                          "index": 1,
                          "text": "Consuming"
                        },
                        "to": 20000
                      },
                      "type": "range"
                    },
                    {
                      "options": {
                        "from": -50,
                        "result": {
                          "color": "text",
                          "index": 2,
                          "text": "Idle"
                        },
                        "to": 50
                      },
                      "type": "range"
                    }
                  ]
                }
              ]
            }
          ]
        },
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "text": {},
          "textMode": "auto"
        },
        "pluginVersion": "10.0.3",
        "targets": [
          {
            "cacheDurationSeconds": 0,
            "datasource": {
              "type": "marcusolsson-json-datasource",
              "uid": "c22db054-79a4-46c1-a749-9a7556a2a4b1"
            },
            "fields": [
              {
                "jsonPath": "$.site.P_Akku",
                "language": "jsonpath",
                "name": "Battery"
              },
              {
                "jsonPath": "$.site.P_Grid",
                "language": "jsonpath",
                "name": "Grid"
              }
            ],
            "method": "GET",
            "queryParams": "",
            "refId": "A",
            "urlPath": ""
          }
        ],
        "type": "stat"
      }
    },
    "XB8yzeRgk": {
      "name": "Inverter Status",
      "uid": "XB8yzeRgk",
      "kind": 1,
      "model": {
        "datasource": {
          "type": "influxdb",
          "uid": "${DS_INFLUXDB_(INVERTER)}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "blue",
              "mode": "fixed"
            },
            "custom": {
              "fillOpacity": 70,
              "lineWidth": 0,
              "spanNulls": false
            },
            "links": [],
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "none"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Status"
              },
              "properties": [
                {
                  "id": "mappings",
                  "value": [
                    {
                      "options": {
                        "7": {
                          "color": "green",
                          "index": 1,
                          "text": "Running"
                        },
                        "8": {
                          "color": "super-light-orange",
                          "index": 2,
                          "text": "Standby"
                        },
                        "9": {
                          "color": "super-light-purple",
                          "index": 3,
                          "text": "Bootloading"
                        },
                        "10": {
                          "color": "red",
                          "index": 4,
                          "text": "Error"
                        },
                        "11": {
                          "color": "dark-yellow",
                          "index": 5,
                          "text": "Idle"
                        },
                        "12": {
                          "color": "yellow",
                          "index": 6,
                          "text": "Ready"
                        },
                        "13": {
                          "color": "orange",
                          "index": 7,
                          "text": "Sleeping"
                        },
                        "255": {
                          "color": "dark-purple",
                          "index": 8,
                          "text": "Unknown"
                        },
                        "-1": {
                          "color": "transparent",
                          "index": 9,
                          "text": "Offline"
                        }
                      },
                      "type": "value"
                    },
                    {
                      "options": {
                        "from": 0,
                        "result": {
                          "color": "purple",
                          "index": 0,
                          "text": "Startup"
                        },
                        "to": 6
                      },
                      "type": "range"
                    }
                  ]
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Errors"
              },
              "properties": [
                {
                  "id": "mappings",
                  "value": [
                    {
                      "options": {
                        "0": {
                          "color": "green",
                          "index": 0,
                          "text": "Flawless"
                        },
                        "1063": {
                          "color": "red",
                          "index": 1,
                          "text": "AC grid conditions out of feed-in limits"
                        },
                        "1114": {
                          "color": "orange",
                          "index": 2,
                          "text": "AC voltage too high"
                        },
                        "1119": {
                          "color": "red",
                          "index": 3,
                          "text": "AC voltage too low"
                        },
                        "1120": {
                          "color": "red",
                          "index": 4,
                          "text": "AC main voltage below the inverter reconnect voltage limit"
                        },
                        "1175": {
                          "color": "orange",
                          "index": 5,
                          "text": "Too low DC power for feed-in"
                        },
                        "1240": {
                          "color": "super-light-red",
                          "index": 7,
                          "text": "No battery detected"
                        },
                        "-1": {
                          "color": "transparent",
                          "index": 6,
                          "text": "Offline"
                        }
                      },
                      "type": "value"
                    }
                  ]
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Battery"
              },
              "properties": [
                {
                  "id": "mappings",
                  "value": [
                    {
                      "options": {
                        "0": {
                          "color": "super-light-orange",
                          "index": 0,
                          "text": "Standby"
                        },
                        "1": {
                          "color": "dark-yellow",
                          "index": 1,
                          "text": "Inactive"
                        },
                        "2": {
                          "color": "purple",
                          "index": 2,
                          "text": "Darkstart"
                        },
                        "3": {
                          "color": "green",
                          "index": 3,
                          "text": "Active"
                        },
                        "4": {
                          "color": "red",
                          "index": 4,
                          "text": "Fault"
                        },
                        "5": {
                          "color": "super-light-purple",
                          "index": 5,
                          "text": "Updating"
                        },
                        "-1": {
                          "color": "transparent",
                          "index": 6,
                          "text": "Offline"
                        }
                      },
                      "type": "value"
                    }
                  ]
                }
              ]
            }
          ]
        },
        "hideTimeOverride": false,
        "interval": "",
        "options": {
          "alignValue": "left",
          "legend": {
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "mergeValues": true,
          "rowHeight": 0.9,
          "showValue": "auto",
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "9.1.2",
        "targets": [
          {
            "alias": "Errors",
            "datasource": {
              "type": "influxdb",
              "uid": "b4303db2-42a8-4e0f-910e-98b80379bd54"
            },
            "groupBy": [
              {
                "params": [
                  "$__interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "none"
                ],
                "type": "fill"
              }
            ],
            "measurement": "inverter",
            "orderByTime": "ASC",
            "policy": "autogen",
            "query": "SELECT min(\"ErrorCode\") FROM \"autogen\".\"inverter\" WHERE $timeFilter GROUP BY time(5m) fill(-1) tz('$tz')",
            "rawQuery": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "ErrorCode"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "distinct"
                }
              ]
            ],
            "tags": [],
            "tz": "$tz"
          },
          {
            "alias": "Status",
            "datasource": {
              "type": "influxdb",
              "uid": "b4303db2-42a8-4e0f-910e-98b80379bd54"
            },
            "groupBy": [
              {
                "params": [
                  "$__interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "none"
                ],
                "type": "fill"
              }
            ],
            "hide": false,
            "measurement": "inverter",
            "orderByTime": "ASC",
            "policy": "autogen",
            "query": "SELECT min(\"StatusCode\") FROM \"autogen\".\"inverter\" WHERE $timeFilter GROUP BY time(5m) fill(-1) tz('$tz')",
            "rawQuery": true,
            "refId": "B",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "StatusCode"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "distinct"
                }
              ]
            ],
            "tags": [],
            "tz": "$tz"
          },
          {
            "alias": "Battery",
            "datasource": {
              "type": "influxdb",
              "uid": "b4303db2-42a8-4e0f-910e-98b80379bd54"
            },
            "groupBy": [
              {
                "params": [
                  "$__interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "hide": false,
            "measurement": "storage",
            "orderByTime": "ASC",
            "policy": "autogen",
            "query": "SELECT min(\"Status_BatteryCell\") FROM \"autogen\".\"storage\" WHERE $timeFilter GROUP BY time(5m) fill(-1) tz('$tz')",
            "rawQuery": true,
            "refId": "C",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "Status_BatteryCell"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "mean"
                }
              ]
            ],
            "tags": []
          }
        ],
        "title": "Inverter Status",
        "transparent": true,
        "type": "state-timeline"
      }
    },
    "urTr7ciRk": {
      "name": "Solar Energy Year",
      "uid": "urTr7ciRk",
      "kind": 1,
      "model": {
        "datasource": {
          "type": "influxdb",
          "uid": "${DS_INFLUXDB_(INVERTER)}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "stepAfter",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "links": [],
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "watth"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Local Energy Production"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "yellow",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Home Usage"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#3274D9",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "From Grid"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "red",
                    "mode": "fixed"
                  }
                },
                {
                  "id": "custom.lineWidth",
                  "value": 1
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "To Grid"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "green",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Autonomy"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "percentunit"
                },
                {
                  "id": "min",
                  "value": 0
                },
                {
                  "id": "max",
                  "value": 1
                },
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "dark-green",
                    "mode": "fixed"
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Local Energy Consumption"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "super-light-blue",
                    "mode": "fixed"
                  }
                }
              ]
            }
          ]
        },
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "table",
            "placement": "right",
            "showLegend": true
          },
          "tooltip": {
            "mode": "multi",
            "sort": "none"
          }
        },
        "pluginVersion": "9.1.2",
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "influxdb",
              "uid": "b4303db2-42a8-4e0f-910e-98b80379bd54"
            },
            "groupBy": [
              {
                "params": [
                  "1d"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "hide": false,
            "measurement": "http",
            "orderByTime": "ASC",
            "policy": "kwh",
            "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
            "rawQuery": true,
            "refId": "B",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "home"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "sum"
                }
              ]
            ],
            "tags": [
              {
                "key": "home",
                "operator": ">",
                "value": "0"
              }
            ]
          },
          {
            "datasource": {
              "type": "influxdb",
              "uid": "b4303db2-42a8-4e0f-910e-98b80379bd54"
            },
            "hide": false,
            "query": "SELECT -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
            "rawQuery": true,
            "refId": "A",
            "resultFormat": "time_series"
          }
        ],
        "timeFrom": "12M",
        "title": "Solar Energy Year",
        "transformations": [
          {
            "id": "calculateField",
            "options": {
              "alias": "Home Usage",
              "mode": "reduceRow",
              "reduce": {
                "include": [
                  "powerflow.produced",
                  "smartmeter.to_grid",
                  "smartmeter.from_grid"
                ],
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "To Grid",
              "binary": {
                "left": "smartmeter.to_grid",
                "operator": "*",
                "reducer": "sum",
                "right": "-1"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "Local Energy Consumption",
              "mode": "reduceRow",
              "reduce": {
                "include": [
                  "powerflow.produced",
                  "smartmeter.to_grid"
                ],
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "LECFG",
              "mode": "reduceRow",
              "reduce": {
                "include": [
                  "Local Energy Consumption",
                  "smartmeter.from_grid"
                ],
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "Autonomy",
              "binary": {
                "left": "Local Energy Consumption",
                "operator": "/",
                "reducer": "sum",
                "right": "LECFG"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "Home Usage": false,
                "LECFG": true,
                "LECTG": true,
                "Local Energy Consumption": false,
                "powerflow.from_grid": true,
                "powerflow.to_grid": true,
                "smartmeter.from_grid": false,
                "smartmeter.produced": true,
                "smartmeter.to_grid": true
              },
              "indexByName": {
                "Autonomy": 5,
                "Home Usage": 2,
                "LECFG": 8,
                "Local Energy Consumption": 3,
                "Time": 0,
                "To Grid": 7,
                "powerflow.produced": 4,
                "smartmeter.from_grid": 6,
                "smartmeter.to_grid": 1
              },
              "renameByName": {
                "Home Usage": "",
                "powerflow.from_grid": "",
                "powerflow.produced": "Local Energy Production",
                "powerflow.to_grid": "",
                "smartmeter.from_grid": "From Grid",
                "smartmeter.to_grid": ""
              }
            }
          }
        ],
        "transparent": true,
        "type": "timeseries"
      }
    }
  },
  "__requires": [
    {
      "type": "panel",
      "id": "barchart",
      "name": "Bar chart",
      "version": ""
    },
    {
      "type": "datasource",
      "id": "fetzerch-sunandmoon-datasource",
      "name": "Sun and Moon",
      "version": "0.3.0"
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "10.0.3"
    },
    {
      "type": "datasource",
      "id": "influxdb",
      "name": "InfluxDB",
      "version": "1.0.0"
    },
    {
      "type": "datasource",
      "id": "marcusolsson-json-datasource",
      "name": "JSON API",
      "version": "1.3.6"
    },
    {
      "type": "panel",
      "id": "piechart",
      "name": "Pie chart",
      "version": ""
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "timeseries",
      "name": "Time series",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 20,
      "panels": [],
      "title": "Live Monitoring",
      "type": "row"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": true,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 30,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "max": 10300,
          "min": -10300,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "watt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Charge"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "purple",
                  "mode": "fixed"
                }
              },
              {
                "id": "unit",
                "value": "percent"
              },
              {
                "id": "min",
                "value": -101
              },
              {
                "id": "max",
                "value": 101
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "fill": "solid"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "To Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.spanNulls",
                "value": 120000
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Home Usage"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Powerwall"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Solar Energy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Sun altitude"
            },
            "properties": [
              {
                "id": "custom.fillOpacity",
                "value": 10
              },
              {
                "id": "unit",
                "value": "percent"
              },
              {
                "id": "decimals",
                "value": 0
              },
              {
                "id": "min",
                "value": -101
              },
              {
                "id": "max",
                "value": 101
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "dash": [
                    1,
                    5
                  ],
                  "fill": "dash"
                }
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "text",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": false
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Autonomy"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percent"
              },
              {
                "id": "min",
                "value": -101
              },
              {
                "id": "max",
                "value": 101
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "#73bf6980",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "fill": "solid"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.spanNulls",
                "value": 120000
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Storage"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-purple",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "To Storage"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-purple",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 14,
        "w": 16,
        "x": 0,
        "y": 1
      },
      "id": 2,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "Home Usage",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT \"mean_load_instant_power\" FROM \"http\" WHERE $timeFilter tz('$tz')",
          "rawQuery": false,
          "refId": "Home Usage",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              },
              {
                "params": [
                  "*-1"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Solar Energy",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "Solar Energy",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "To Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT max(from_grid) - max(to_grid) FROM autogen.http WHERE $timeFilter GROUP BY time($__interval) ",
          "rawQuery": false,
          "refId": "To Grid",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Grid"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Grid::field",
              "operator": "<",
              "value": "0"
            }
          ],
          "tz": "$tz"
        },
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT max(from_grid) - max(to_grid) FROM autogen.http WHERE $timeFilter GROUP BY time($__interval) ",
          "rawQuery": false,
          "refId": "From Grid",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Grid"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "max"
              },
              {
                "params": [
                  "* -1"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Grid::field",
              "operator": ">",
              "value": "0"
            }
          ],
          "tz": "$tz"
        },
        {
          "alias": "Autonomy",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "Autonomy",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "rel_Autonomy"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "datasource": {
            "type": "fetzerch-sunandmoon-datasource",
            "uid": "${DS_SUN_AND MOON}"
          },
          "refId": "Sun",
          "target": [
            "sun_altitude"
          ]
        },
        {
          "alias": "Grid Down",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT mean(\"ErrorCode\") FROM \"autogen\".\"inverter\" WHERE (\"ErrorCode\"::field = 1063 or \"ErrorCode\"::field = 1120) AND $timeFilter GROUP BY time($__interval) fill(null)",
          "rawQuery": true,
          "refId": "Grid down",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "ErrorCode"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [
            {
              "key": "ErrorCode::field",
              "operator": "=",
              "value": "1067"
            }
          ]
        },
        {
          "alias": "Charge",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "storage",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "",
          "rawQuery": false,
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "StateOfCharge_Relative"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "To Storage",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Akku"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Akku::field",
              "operator": "<",
              "value": "0"
            }
          ],
          "tz": "$tz"
        },
        {
          "alias": "From Storage",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Akku"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Akku::field",
              "operator": ">",
              "value": "0"
            }
          ],
          "tz": "$tz"
        }
      ],
      "title": "Energy Usage",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "gridPos": {
        "h": 11,
        "w": 7,
        "x": 17,
        "y": 1
      },
      "id": 76,
      "libraryPanel": {
        "uid": "bb6b10a7-eeec-4e0d-9d8d-3d77ab01fe6a",
        "name": "Power flow"
      }
    },
    {
      "gridPos": {
        "h": 4,
        "w": 3,
        "x": 17,
        "y": 12
      },
      "id": 105,
      "libraryPanel": {
        "uid": "e7006c4d-5436-4fb5-b22a-806f657dd36d",
        "name": "Power flow text"
      }
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Local Energy Consumption"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 20,
        "y": 12
      },
      "id": 87,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "values": [
            "percent"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT  (last(\"E_Total\") - first(\"E_Total\")) as produced, -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid FROM \"autogen\".\"smartmeter\",  \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "title": "Autonomy",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "Local Energy Consumption",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "powerflow.from_grid": true,
              "powerflow.from_grid4hu": true,
              "powerflow.produced": true,
              "powerflow.produced2": true,
              "powerflow.produced4dc": true,
              "powerflow.produced4hu": true,
              "powerflow.to_grid": true,
              "powerflow.to_grid2": true,
              "powerflow.to_grid4dc": true,
              "powerflow.to_grid4hu": true,
              "smartmeter.from_grid": true,
              "smartmeter.from_grid4hu": true,
              "smartmeter.produced": true,
              "smartmeter.produced2": true,
              "smartmeter.produced4dc": true,
              "smartmeter.produced4hu": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid2": true,
              "smartmeter.to_grid4dc": true,
              "smartmeter.to_grid4hu": true
            },
            "indexByName": {
              "Directly Consumed": 2,
              "From Grid": 3,
              "Home Usage": 1,
              "Time": 0,
              "powerflow.from_grid": 6,
              "powerflow.produced": 4,
              "powerflow.produced4dc": 10,
              "powerflow.to_grid": 5,
              "powerflow.to_grid4dc": 11,
              "smartmeter.from_grid": 9,
              "smartmeter.produced": 7,
              "smartmeter.produced4dc": 12,
              "smartmeter.to_grid": 8,
              "smartmeter.to_grid4dc": 13
            },
            "renameByName": {}
          }
        }
      ],
      "transparent": true,
      "type": "piechart"
    },
    {
      "gridPos": {
        "h": 6,
        "w": 16,
        "x": 0,
        "y": 15
      },
      "id": 72,
      "libraryPanel": {
        "uid": "XB8yzeRgk",
        "name": "Inverter Status"
      }
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(PVFORECAST)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-yellow",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 3,
        "x": 17,
        "y": 16
      },
      "hideTimeOverride": true,
      "id": 101,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 20
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "alias": "Today",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(PVFORECAST)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "measurement": "pv_forecast_watt_hours_day",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT first(\"value\") FROM \"autogen\".\"pv_forecast_watt_hours_day\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Tomorrow",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(PVFORECAST)}"
          },
          "hide": false,
          "query": "SELECT last(\"value\") FROM \"autogen\".\"pv_forecast_watt_hours_day\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "+1d/d",
      "timeShift": "0d/d",
      "title": "Expected yield",
      "transparent": true,
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 41,
      "panels": [],
      "title": "Energy Meters",
      "type": "row"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "blue",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 0,
        "y": 22
      },
      "id": 4,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 1000 / 3600 * -1"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": []
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 1000 / 3600 * -1"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Home Usage",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "smartmeter.from_grid",
                "smartmeter.to_grid",
                "powerflow.produced"
              ],
              "reducer": "sum"
            },
            "replaceFields": true
          }
        }
      ],
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "comprises power sourced both from the battery and utilized directly excluding energy feed into grid",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-blue",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 3,
        "y": 22
      },
      "id": 78,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT  (last(\"E_Total\") - first(\"E_Total\")) as produced, -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid FROM \"autogen\".\"smartmeter\",  \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "E_Total"
                ],
                "type": "field"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "Local Energy Consumption",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": true
          }
        }
      ],
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "comprises power sourced both from the battery and utilized directly",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "yellow",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 6,
        "y": 22
      },
      "id": 5,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT last(\"E_Total\") - first(\"E_Total\") FROM \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "E_Total"
                ],
                "type": "field"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "Local Energy Production",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-purple",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 9,
        "y": 22
      },
      "id": 6,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT integral(\"P_Akku\") / 3600 FROM \"autogen\".\"powerflow\" WHERE (\"P_Akku\"::field >= 0) AND $timeFilter GROUP BY time(1s) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Akku"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 1000 / 3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Akku::field",
              "operator": ">",
              "value": "0"
            }
          ],
          "tz": "$tz"
        }
      ],
      "title": "From Storage",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "0.0 kWh"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-purple",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 12,
        "y": 22
      },
      "id": 8,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT abs(integral(\"P_Akku\")) / 3600 FROM \"autogen\".\"powerflow\" WHERE (\"P_Akku\"::field <= 0) AND $timeFilter GROUP BY time(1s) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Akku"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 1000 / 3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Akku::field",
              "operator": "<",
              "value": "0"
            }
          ]
        }
      ],
      "title": "To Storage",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 0,
        "y": 24
      },
      "id": 9,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT max(\"EnergyReal_WAC_Plus_Absolute\") -  min(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Grid"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Grid::field",
              "operator": ">",
              "value": "0"
            }
          ]
        }
      ],
      "title": "From Grid",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 3,
        "y": 24
      },
      "id": 7,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT max(\"EnergyReal_WAC_Minus_Absolute\") -  min(\"EnergyReal_WAC_Minus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Grid"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 3600 * -1"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Grid::field",
              "operator": "<",
              "value": "0"
            }
          ]
        }
      ],
      "title": "To Grid",
      "transformations": [
        {
          "id": "configFromData",
          "options": {
            "applyTo": {
              "id": "byName",
              "options": "smartmeter.max_min"
            },
            "configRefId": "A",
            "mappings": [
              {
                "fieldName": "smartmeter.max_min",
                "handlerKey": "displayName"
              }
            ]
          }
        }
      ],
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 0
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 6,
        "y": 24
      },
      "id": 69,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT (last(\"EnergyReal_WAC_Plus_Absolute\") - first(\"EnergyReal_WAC_Plus_Absolute\")) - (last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Grid"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Net Grid Usage",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "comprises power sourced both from the battery and utilized directly",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 9,
        "y": 24
      },
      "id": 85,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "1d"
              ],
              "type": "time"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " /1000/ 3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "1d"
              ],
              "type": "time"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " /1000/ 3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "Autonomy",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "Home Usage",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid",
                "smartmeter.from_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Directly Consumed",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "calculateField",
          "options": {
            "binary": {
              "left": "Directly Consumed",
              "operator": "/",
              "reducer": "sum",
              "right": "Home Usage"
            },
            "mode": "binary",
            "reduce": {
              "include": [
                "Home Usage",
                "From Grid"
              ],
              "reducer": "diffperc"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Directly Consumed": true,
              "From Grid": true,
              "Home Usage": true,
              "powerflow.from_grid": true,
              "powerflow.from_grid4hu": true,
              "powerflow.produced": true,
              "powerflow.produced2": true,
              "powerflow.produced4dc": true,
              "powerflow.produced4hu": true,
              "powerflow.to_grid": true,
              "powerflow.to_grid2": true,
              "powerflow.to_grid4dc": true,
              "powerflow.to_grid4hu": true,
              "smartmeter.from_grid": true,
              "smartmeter.from_grid4hu": true,
              "smartmeter.produced": true,
              "smartmeter.produced2": true,
              "smartmeter.produced4dc": true,
              "smartmeter.produced4hu": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid2": true,
              "smartmeter.to_grid4dc": true,
              "smartmeter.to_grid4hu": true
            },
            "indexByName": {
              "Directly Consumed": 1,
              "Home Usage": 2,
              "Time": 0,
              "powerflow.from_grid4hu": 9,
              "powerflow.produced4dc": 3,
              "powerflow.produced4hu": 7,
              "powerflow.to_grid4dc": 4,
              "powerflow.to_grid4hu": 8,
              "smartmeter.from_grid4hu": 12,
              "smartmeter.produced4dc": 5,
              "smartmeter.produced4hu": 10,
              "smartmeter.to_grid4dc": 6,
              "smartmeter.to_grid4hu": 11
            },
            "renameByName": {
              "From Grid": ""
            }
          }
        }
      ],
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 3,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "yellow",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 12,
        "y": 24
      },
      "id": 79,
      "interval": "",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT last(\"E_Total\") FROM \"autogen\".\"powerflow\"",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "E_Total"
                ],
                "type": "field"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "Total solar energy production",
      "transparent": true,
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 80,
      "panels": [],
      "title": "Estimated savings",
      "type": "row"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "solar > home"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "shades"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "solar > grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "text",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 0,
        "y": 28
      },
      "hideTimeOverride": true,
      "id": 97,
      "interval": "",
      "links": [],
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(0)  tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(ENERGYPRICES)}"
          },
          "hide": false,
          "query": "SELECT mean(\"sell\")/100000 as sellEuroWh, mean(\"buy\")/100000 as buyEuroWh FROM \"autogen\".\"electricity\" GROUP BY time(1d) fill(previous) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "title": "Savings",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "-1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Directly Consumed",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid * -1"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > home",
            "binary": {
              "left": "Directly Consumed",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.buyEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > grid",
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.sellEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Directly Consumed"
              },
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "smartmeter.to_grid"
              }
            ],
            "match": "any",
            "type": "include"
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Total",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "solar > grid",
                "solar > home"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Directly Consumed": true,
              "Directly Consumed / 1000": true,
              "Time": true,
              "electricity.buyEuroWh": true,
              "electricity.sellEuroWh": true,
              "powerflow.from_grid": true,
              "powerflow.produced": true,
              "powerflow.to_grid": true,
              "smartmeter.from_grid": true,
              "smartmeter.produced": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid * -1": true,
              "smartmeter.to_grid / 1000": true
            },
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "solar > home"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "shades"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "solar > grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "text",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 4,
        "y": 28
      },
      "hideTimeOverride": true,
      "id": 98,
      "interval": "",
      "links": [],
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(0)  tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(ENERGYPRICES)}"
          },
          "hide": false,
          "query": "SELECT mean(\"sell\")/100000 as sellEuroWh, mean(\"buy\")/100000 as buyEuroWh FROM \"autogen\".\"electricity\" GROUP BY time(1d) fill(previous) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeShift": "0M/M",
      "title": "Savings this month",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "-1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Directly Consumed",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid * -1"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > home",
            "binary": {
              "left": "Directly Consumed",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.buyEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > grid",
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.sellEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Directly Consumed"
              },
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "smartmeter.to_grid"
              }
            ],
            "match": "any",
            "type": "include"
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Total",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "solar > grid",
                "solar > home"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Directly Consumed": true,
              "Directly Consumed / 1000": true,
              "Time": true,
              "electricity.buyEuroWh": true,
              "electricity.sellEuroWh": true,
              "powerflow.from_grid": true,
              "powerflow.produced": true,
              "powerflow.to_grid": true,
              "smartmeter.from_grid": true,
              "smartmeter.produced": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid * -1": true,
              "smartmeter.to_grid / 1000": true
            },
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "solar > home"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "shades"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "solar > grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "text",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 8,
        "y": 28
      },
      "hideTimeOverride": true,
      "id": 104,
      "interval": "",
      "links": [],
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(0)  tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(ENERGYPRICES)}"
          },
          "hide": false,
          "query": "SELECT mean(\"sell\")/100000 as sellEuroWh, mean(\"buy\")/100000 as buyEuroWh FROM \"autogen\".\"electricity\" GROUP BY time(1d) fill(previous) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeShift": "1M/M",
      "title": "Savings last month",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "-1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Directly Consumed",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid * -1"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > home",
            "binary": {
              "left": "Directly Consumed",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.buyEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > grid",
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.sellEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Directly Consumed"
              },
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "smartmeter.to_grid"
              }
            ],
            "match": "any",
            "type": "include"
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Total",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "solar > grid",
                "solar > home"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Directly Consumed": true,
              "Directly Consumed / 1000": true,
              "Time": true,
              "electricity.buyEuroWh": true,
              "electricity.sellEuroWh": true,
              "powerflow.from_grid": true,
              "powerflow.produced": true,
              "powerflow.to_grid": true,
              "smartmeter.from_grid": true,
              "smartmeter.produced": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid * -1": true,
              "smartmeter.to_grid / 1000": true
            },
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "solar > home"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "shades"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "solar > grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "text",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 12,
        "y": 28
      },
      "hideTimeOverride": true,
      "id": 99,
      "interval": "",
      "links": [],
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(0)  tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(ENERGYPRICES)}"
          },
          "hide": false,
          "query": "SELECT mean(\"sell\")/100000 as sellEuroWh, mean(\"buy\")/100000 as buyEuroWh FROM \"autogen\".\"electricity\" GROUP BY time(1d) fill(previous) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "0y/y",
      "timeShift": "0y/y",
      "title": "Savings this year",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "-1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Directly Consumed",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid * -1"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > home",
            "binary": {
              "left": "Directly Consumed",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.buyEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > grid",
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.sellEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Directly Consumed"
              },
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "smartmeter.to_grid"
              }
            ],
            "match": "any",
            "type": "include"
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Total",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "solar > grid",
                "solar > home"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Directly Consumed": true,
              "Directly Consumed / 1000": true,
              "Time": true,
              "electricity.buyEuroWh": true,
              "electricity.sellEuroWh": true,
              "powerflow.from_grid": true,
              "powerflow.produced": true,
              "powerflow.to_grid": true,
              "smartmeter.from_grid": true,
              "smartmeter.produced": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid * -1": true,
              "smartmeter.to_grid / 1000": true
            },
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "solar > home"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "shades"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "solar > grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "text",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 16,
        "y": 28
      },
      "hideTimeOverride": true,
      "id": 100,
      "interval": "",
      "links": [],
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(0)  tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(ENERGYPRICES)}"
          },
          "hide": false,
          "query": "SELECT mean(\"sell\")/100000 as sellEuroWh, mean(\"buy\")/100000 as buyEuroWh FROM \"autogen\".\"electricity\" GROUP BY time(1d) fill(previous) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "0y/y",
      "timeShift": "1y/y",
      "title": "Savings last year",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "-1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Directly Consumed",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid * -1"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > home",
            "binary": {
              "left": "Directly Consumed",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.buyEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > grid",
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.sellEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Directly Consumed"
              },
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "smartmeter.to_grid"
              }
            ],
            "match": "any",
            "type": "include"
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Total",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "solar > grid",
                "solar > home"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Directly Consumed": true,
              "Directly Consumed / 1000": true,
              "Time": true,
              "electricity.buyEuroWh": true,
              "electricity.sellEuroWh": true,
              "powerflow.from_grid": true,
              "powerflow.produced": true,
              "powerflow.to_grid": true,
              "smartmeter.from_grid": true,
              "smartmeter.produced": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid * -1": true,
              "smartmeter.to_grid / 1000": true
            },
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "solar > home"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "shades"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "solar > grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "text",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 20,
        "y": 28
      },
      "hideTimeOverride": true,
      "id": 102,
      "interval": "",
      "links": [],
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 30
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.0.3",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\" GROUP BY time(1d) fill(0) tz('$tz')\n",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced FROM \"autogen\".\"powerflow\" GROUP BY time(1d) fill(0)  tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(ENERGYPRICES)}"
          },
          "hide": false,
          "query": "SELECT mean(\"sell\")/100000 as sellEuroWh, mean(\"buy\")/100000 as buyEuroWh FROM \"autogen\".\"electricity\" GROUP BY time(1d) fill(previous) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "title": "Total savings",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "-1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Directly Consumed",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid * -1"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > home",
            "binary": {
              "left": "Directly Consumed",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.buyEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "solar > grid",
            "binary": {
              "left": "smartmeter.to_grid",
              "operator": "*",
              "reducer": "sum",
              "right": "electricity.sellEuroWh"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Directly Consumed"
              },
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "smartmeter.to_grid"
              }
            ],
            "match": "any",
            "type": "include"
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Total",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "solar > grid",
                "solar > home"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Directly Consumed": true,
              "Directly Consumed / 1000": true,
              "Time": true,
              "electricity.buyEuroWh": true,
              "electricity.sellEuroWh": true,
              "powerflow.from_grid": true,
              "powerflow.produced": true,
              "powerflow.to_grid": true,
              "smartmeter.from_grid": true,
              "smartmeter.produced": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid * -1": true,
              "smartmeter.to_grid / 1000": true
            },
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 36
      },
      "id": 89,
      "panels": [],
      "title": "Autonomy",
      "type": "row"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Local Energy Consumption"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 5,
        "x": 0,
        "y": 37
      },
      "hideTimeOverride": true,
      "id": 82,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "values": [
            "percent"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT  (last(\"E_Total\") - first(\"E_Total\")) as produced, -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid FROM \"autogen\".\"smartmeter\",  \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "0d/d",
      "timeShift": "1d/d",
      "title": "Autonomy yesterday",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "Local Energy Consumption",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "powerflow.from_grid": true,
              "powerflow.from_grid4hu": true,
              "powerflow.produced": true,
              "powerflow.produced2": true,
              "powerflow.produced4dc": true,
              "powerflow.produced4hu": true,
              "powerflow.to_grid": true,
              "powerflow.to_grid2": true,
              "powerflow.to_grid4dc": true,
              "powerflow.to_grid4hu": true,
              "smartmeter.from_grid": true,
              "smartmeter.from_grid4hu": true,
              "smartmeter.produced": true,
              "smartmeter.produced2": true,
              "smartmeter.produced4dc": true,
              "smartmeter.produced4hu": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid2": true,
              "smartmeter.to_grid4dc": true,
              "smartmeter.to_grid4hu": true
            },
            "indexByName": {
              "Directly Consumed": 2,
              "From Grid": 3,
              "Home Usage": 1,
              "Time": 0,
              "powerflow.from_grid": 6,
              "powerflow.produced": 4,
              "powerflow.produced4dc": 10,
              "powerflow.to_grid": 5,
              "powerflow.to_grid4dc": 11,
              "smartmeter.from_grid": 9,
              "smartmeter.produced": 7,
              "smartmeter.produced4dc": 12,
              "smartmeter.to_grid": 8,
              "smartmeter.to_grid4dc": 13
            },
            "renameByName": {}
          }
        }
      ],
      "transparent": true,
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Local Energy Consumption"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 5,
        "x": 5,
        "y": 37
      },
      "hideTimeOverride": true,
      "id": 86,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "values": [
            "percent"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT  (last(\"E_Total\") - first(\"E_Total\")) as produced, -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid FROM \"autogen\".\"smartmeter\",  \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "0M/M",
      "timeShift": "1M/M",
      "title": "Autonomy last month",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "Local Energy Consumption",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "powerflow.from_grid": true,
              "powerflow.from_grid4hu": true,
              "powerflow.produced": true,
              "powerflow.produced2": true,
              "powerflow.produced4dc": true,
              "powerflow.produced4hu": true,
              "powerflow.to_grid": true,
              "powerflow.to_grid2": true,
              "powerflow.to_grid4dc": true,
              "powerflow.to_grid4hu": true,
              "smartmeter.from_grid": true,
              "smartmeter.from_grid4hu": true,
              "smartmeter.produced": true,
              "smartmeter.produced2": true,
              "smartmeter.produced4dc": true,
              "smartmeter.produced4hu": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid2": true,
              "smartmeter.to_grid4dc": true,
              "smartmeter.to_grid4hu": true
            },
            "indexByName": {
              "Directly Consumed": 2,
              "From Grid": 3,
              "Home Usage": 1,
              "Time": 0,
              "powerflow.from_grid": 6,
              "powerflow.produced": 4,
              "powerflow.produced4dc": 10,
              "powerflow.to_grid": 5,
              "powerflow.to_grid4dc": 11,
              "smartmeter.from_grid": 9,
              "smartmeter.produced": 7,
              "smartmeter.produced4dc": 12,
              "smartmeter.to_grid": 8,
              "smartmeter.to_grid4dc": 13
            },
            "renameByName": {}
          }
        }
      ],
      "transparent": true,
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Local Energy Consumption"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 5,
        "x": 10,
        "y": 37
      },
      "hideTimeOverride": true,
      "id": 88,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "values": [
            "percent"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT  (last(\"E_Total\") - first(\"E_Total\")) as produced, -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid FROM \"autogen\".\"smartmeter\",  \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "0y/y",
      "title": "Autonomy this year",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "Local Energy Consumption",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "powerflow.from_grid": true,
              "powerflow.from_grid4hu": true,
              "powerflow.produced": true,
              "powerflow.produced2": true,
              "powerflow.produced4dc": true,
              "powerflow.produced4hu": true,
              "powerflow.to_grid": true,
              "powerflow.to_grid2": true,
              "powerflow.to_grid4dc": true,
              "powerflow.to_grid4hu": true,
              "smartmeter.from_grid": true,
              "smartmeter.from_grid4hu": true,
              "smartmeter.produced": true,
              "smartmeter.produced2": true,
              "smartmeter.produced4dc": true,
              "smartmeter.produced4hu": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid2": true,
              "smartmeter.to_grid4dc": true,
              "smartmeter.to_grid4hu": true
            },
            "indexByName": {
              "Directly Consumed": 2,
              "From Grid": 3,
              "Home Usage": 1,
              "Time": 0,
              "powerflow.from_grid": 6,
              "powerflow.produced": 4,
              "powerflow.produced4dc": 10,
              "powerflow.to_grid": 5,
              "powerflow.to_grid4dc": 11,
              "smartmeter.from_grid": 9,
              "smartmeter.produced": 7,
              "smartmeter.produced4dc": 12,
              "smartmeter.to_grid": 8,
              "smartmeter.to_grid4dc": 13
            },
            "renameByName": {}
          }
        }
      ],
      "transparent": true,
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Local Energy Consumption"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 5,
        "x": 15,
        "y": 37
      },
      "hideTimeOverride": true,
      "id": 92,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "values": [
            "percent"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "sum"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT  (last(\"E_Total\") - first(\"E_Total\")) as produced, -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid FROM \"autogen\".\"smartmeter\",  \"autogen\".\"powerflow\" WHERE $timeFilter tz('$tz')\n",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        },
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "0y/y",
      "timeShift": "1y/y",
      "title": "Autonomy last year",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "Local Energy Consumption",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "powerflow.from_grid": true,
              "powerflow.from_grid4hu": true,
              "powerflow.produced": true,
              "powerflow.produced2": true,
              "powerflow.produced4dc": true,
              "powerflow.produced4hu": true,
              "powerflow.to_grid": true,
              "powerflow.to_grid2": true,
              "powerflow.to_grid4dc": true,
              "powerflow.to_grid4hu": true,
              "smartmeter.from_grid": true,
              "smartmeter.from_grid4hu": true,
              "smartmeter.produced": true,
              "smartmeter.produced2": true,
              "smartmeter.produced4dc": true,
              "smartmeter.produced4hu": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid2": true,
              "smartmeter.to_grid4dc": true,
              "smartmeter.to_grid4hu": true
            },
            "indexByName": {
              "Directly Consumed": 2,
              "From Grid": 3,
              "Home Usage": 1,
              "Time": 0,
              "powerflow.from_grid": 6,
              "powerflow.produced": 4,
              "powerflow.produced4dc": 10,
              "powerflow.to_grid": 5,
              "powerflow.to_grid4dc": 11,
              "smartmeter.from_grid": 9,
              "smartmeter.produced": 7,
              "smartmeter.produced4dc": 12,
              "smartmeter.to_grid": 8,
              "smartmeter.to_grid4dc": 13
            },
            "renameByName": {}
          }
        }
      ],
      "transparent": true,
      "type": "piechart"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 45
      },
      "id": 22,
      "panels": [],
      "title": "Detailed Analysis",
      "type": "row"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "comprises power sourced both from the battery and utilized directly excluding energy feed into grid",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "yellow",
            "mode": "fixed"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "bars",
            "fillOpacity": 100,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "yellow"
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 46
      },
      "id": 25,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "Local Energy Production",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "1d"
              ],
              "type": "time"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT last(E_Total) - first(E_Total) FROM \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " / 1000/3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "timeFrom": "1M",
      "title": "Local Energy Production",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "bars",
            "fillOpacity": 100,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Home Usage"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Local Energy Consumption"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.stacking",
                "value": {
                  "group": "X",
                  "mode": "normal"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.stacking",
                "value": {
                  "group": "X",
                  "mode": "normal"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 46
      },
      "id": 24,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "1d"
              ],
              "type": "time"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT (last(\"E_Total\") - first(\"E_Total\")) as produced, -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) as to_grid, (last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\")) as from_grid FROM \"autogen\".\"smartmeter\",  \"autogen\".\"powerflow\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  " /1000/ 3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "1M",
      "title": "Home Usage",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "Home Usage",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid",
                "smartmeter.from_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Local Energy Consumption",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "powerflow.produced",
                "smartmeter.to_grid"
              ],
              "reducer": "sum"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "powerflow.from_grid": true,
              "powerflow.from_grid4hu": true,
              "powerflow.produced": true,
              "powerflow.produced2": true,
              "powerflow.produced4dc": true,
              "powerflow.produced4hu": true,
              "powerflow.to_grid": true,
              "powerflow.to_grid2": true,
              "powerflow.to_grid4dc": true,
              "powerflow.to_grid4hu": true,
              "smartmeter.from_grid": true,
              "smartmeter.from_grid4hu": true,
              "smartmeter.produced": true,
              "smartmeter.produced2": true,
              "smartmeter.produced4dc": true,
              "smartmeter.produced4hu": true,
              "smartmeter.to_grid": true,
              "smartmeter.to_grid2": true,
              "smartmeter.to_grid4dc": true,
              "smartmeter.to_grid4hu": true
            },
            "indexByName": {
              "From Grid": 3,
              "Home Usage": 1,
              "Local Energy Consumption": 2,
              "Time": 0,
              "powerflow.from_grid": 6,
              "powerflow.produced": 4,
              "powerflow.to_grid": 5,
              "smartmeter.from_grid": 9,
              "smartmeter.produced": 7,
              "smartmeter.to_grid": 8
            },
            "renameByName": {}
          }
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "bars",
            "fillOpacity": 100,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "max": 10000,
          "min": -10000,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "From Storage"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-purple",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "To Storage"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-purple",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 54
      },
      "id": 26,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "From Storage",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "1d"
              ],
              "type": "time"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "measurement": "http",
          "orderByTime": "ASC",
          "policy": "kwh",
          "query": "SELECT integral(\"P_Akku\")  / 3600 FROM \"autogen\".\"powerflow\" WHERE (\"P_Akku\"::field > 0) AND $timeFilter GROUP BY time(1d) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "from_pw"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "sum"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "To Storage",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "hide": false,
          "query": "SELECT integral(\"P_Akku\")  / 3600 FROM \"autogen\".\"powerflow\" WHERE (\"P_Akku\"::field < 0) AND $timeFilter GROUP BY time(1d) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series"
        }
      ],
      "timeFrom": "1M",
      "title": "From Storage",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "bars",
            "fillOpacity": 100,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "From Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "To Grid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 54
      },
      "id": 27,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "From Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "1d"
              ],
              "type": "time"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT last(\"EnergyReal_WAC_Plus_Absolute\") -  first(\"EnergyReal_WAC_Plus_Absolute\") FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Grid"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  "/3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Grid::field",
              "operator": ">",
              "value": "0"
            }
          ],
          "tz": "$tz"
        },
        {
          "alias": "To Grid",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "1d"
              ],
              "type": "time"
            },
            {
              "params": [
                "0"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT -(last(\"EnergyReal_WAC_Minus_Absolute\") -  first(\"EnergyReal_WAC_Minus_Absolute\")) FROM \"autogen\".\"smartmeter\" WHERE $timeFilter GROUP BY time(1d) fill(0) tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_Grid"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "integral"
              },
              {
                "params": [
                  "/3600"
                ],
                "type": "math"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_Grid::field",
              "operator": "<",
              "value": "0"
            }
          ],
          "tz": "$tz"
        }
      ],
      "timeFrom": "1M",
      "title": "Grid Usage",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "gridPos": {
        "h": 6,
        "w": 24,
        "x": 0,
        "y": 62
      },
      "id": 74,
      "libraryPanel": {
        "uid": "urTr7ciRk",
        "name": "Solar Energy Year"
      }
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "m"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 13,
        "w": 12,
        "x": 0,
        "y": 68
      },
      "id": 81,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "auto",
        "showValue": "auto",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "targets": [
        {
          "alias": ">10kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field >= 10000) AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "9-10 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 10000) AND  (\"P_PV\"::field >= 9000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "8-9 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 9000) AND  (\"P_PV\"::field >= 8000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "7-8 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 8000) AND  (\"P_PV\"::field >= 7000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "6-7 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 7000) AND  (\"P_PV\"::field >= 6000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "5-6 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 6000) AND  (\"P_PV\"::field >= 5000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "F",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "4-5 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 5000) AND  (\"P_PV\"::field >=4000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "G",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "3-4 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 4000) AND  (\"P_PV\"::field >= 3000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "H",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "2-3 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 3000) AND  (\"P_PV\"::field >= 2000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "I",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "1-2 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 2000) AND  (\"P_PV\"::field >= 1000)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "K",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "<1kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 1000) AND  (\"P_PV\"::field >= 1)  AND $timeFilter GROUP BY time(1d) fill(null) tz('$tz')",
          "rawQuery": true,
          "refId": "J",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        }
      ],
      "timeFrom": "0d/d",
      "timeShift": "1d/d",
      "title": "Daily production grouped by kW",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "m"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 13,
        "w": 12,
        "x": 12,
        "y": 68
      },
      "id": 103,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "auto",
        "showValue": "auto",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "targets": [
        {
          "alias": ">10kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field >= 10000) AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "9-10 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 10000) AND  (\"P_PV\"::field >= 9000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "8-9 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 9000) AND  (\"P_PV\"::field >= 8000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "7-8 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 8000) AND  (\"P_PV\"::field >= 7000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "6-7 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 7000) AND  (\"P_PV\"::field >= 6000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "5-6 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 6000) AND  (\"P_PV\"::field >= 5000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "F",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "4-5 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 5000) AND  (\"P_PV\"::field >=4000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "G",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "3-4 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 4000) AND  (\"P_PV\"::field >= 3000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "H",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "2-3 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 3000) AND  (\"P_PV\"::field >= 2000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "I",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "1-2 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 2000) AND  (\"P_PV\"::field >= 1000)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "J",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        },
        {
          "alias": "<1 kW",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "powerflow",
          "orderByTime": "ASC",
          "policy": "autogen",
          "query": "SELECT count(\"P_PV\") FROM \"autogen\".\"powerflow\" WHERE (\"P_PV\"::field < 1000) AND  (\"P_PV\"::field >= 1)  AND $timeFilter tz('$tz')",
          "rawQuery": true,
          "refId": "K",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "P_PV"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "count"
              }
            ]
          ],
          "tags": [
            {
              "key": "P_PV::field",
              "operator": ">",
              "value": "9000"
            }
          ]
        }
      ],
      "timeFrom": "30d/d",
      "timeShift": "1d/d",
      "title": "Monthly production grouped by kW",
      "type": "barchart"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 81
      },
      "id": 37,
      "panels": [],
      "title": "Smart meter",
      "type": "row"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 8,
        "x": 0,
        "y": 82
      },
      "id": 32,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "L1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Voltage_AC_Phase_1"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "L2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Voltage_AC_Phase_2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "L3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Voltage_AC_Phase_3"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "String Voltage",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "amp"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 8,
        "x": 8,
        "y": 82
      },
      "id": 62,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "P1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Current_AC_Phase_1"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "P2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Current_AC_Phase_2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "P3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Current_AC_Phase_3"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "String Current",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "watt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Solar Energy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 8,
        "x": 16,
        "y": 82
      },
      "id": 63,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "Apparent S P1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerApparent_S_Phase_1"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Apparent S P2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerApparent_S_Phase_2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Apparent S P3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerApparent_S_Phase_3"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Reactive Q P1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerReactive_Q_Phase_1"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Reactive Q P2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerReactive_Q_Phase_2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Reactive Q P3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "F",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerReactive_Q_Phase_3"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Real P P1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "G",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerReal_P_Phase_1"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Real P P3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "H",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerReal_P_Phase_2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "Real P P3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "smartmeter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "I",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PowerReal_P_Phase_3"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "String Power",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "watt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Solar Energy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 0,
        "y": 87
      },
      "id": 34,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "Power AC",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "PAC"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "Inverter Power",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "celsius"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Solar Energy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 6,
        "w": 12,
        "x": 12,
        "y": 87
      },
      "id": 35,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max",
            "min"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "Temperature",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "storage",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Temperature_Cell"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Storage Temps ",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "hertz"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Solar Energy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 24,
        "x": 0,
        "y": 93
      },
      "id": 38,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max",
            "min"
          ],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "Frequency",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "FAC"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Frequency",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Solar Energy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 24,
        "x": 0,
        "y": 98
      },
      "id": 61,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max",
            "min"
          ],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "AC L1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "UAC_L1"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "AC L2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "UAC_L2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "AC L3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "UAC_L3"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "DC 1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "UDC"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "DC 2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "UDC_2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "DC Battery",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "storage",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "F",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Voltage_DC"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "Voltages",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "amp"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Solar Energy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 24,
        "x": 0,
        "y": 103
      },
      "id": 77,
      "interval": "",
      "options": {
        "legend": {
          "calcs": [
            "max",
            "min"
          ],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "AC L1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "IAC_L1"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "AC L2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "IAC_L2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "AC L3",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "C",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "IAC_L3"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "DC 1",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "D",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "IDC"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "DC 2",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "inverter",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "E",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "IDC_2"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        },
        {
          "alias": "DC Battery",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "storage",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "F",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Current_DC"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "tz": "$tz"
        }
      ],
      "title": "Current",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "influxdb",
        "uid": "${DS_INFLUXDB_(INVERTER)}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/Charge$/"
            },
            "properties": [
              {
                "id": "custom.fillOpacity",
                "value": 10
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "dash": [
                    10,
                    10
                  ],
                  "fill": "dash"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/^PW1/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#37872D",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/^PW2/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#E0B400",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/^PW3/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#C4162A",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/^PW4/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#1F60C4",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/^PW5/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#FF9830",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/^PW6/"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#8F3BB8",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 24,
        "x": 0,
        "y": 108
      },
      "id": 55,
      "options": {
        "legend": {
          "calcs": [
            "max",
            "min"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "9.1.2",
      "targets": [
        {
          "alias": "Current max capacity",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "storage",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Capacity_Maximum"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "Max designed capacity",
          "datasource": {
            "type": "influxdb",
            "uid": "${DS_INFLUXDB_(INVERTER)}"
          },
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "measurement": "storage",
          "orderByTime": "ASC",
          "policy": "autogen",
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "DesignedCapacity"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "title": "Storage Capacity",
      "transparent": true,
      "type": "timeseries"
    }
  ],
  "refresh": "5s",
  "schemaVersion": 38,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "description": "Timezone",
        "hide": 2,
        "label": "Timezone",
        "name": "tz",
        "query": "${VAR_TZ}",
        "skipUrlSync": false,
        "type": "constant",
        "current": {
          "value": "${VAR_TZ}",
          "text": "${VAR_TZ}",
          "selected": false
        },
        "options": [
          {
            "value": "${VAR_TZ}",
            "text": "${VAR_TZ}",
            "selected": false
          }
        ]
      }
    ]
  },
  "time": {
    "from": "now-0d/d",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "browser",
  "title": "Photovoltaik",
  "uid": "RSabAvRRzVz",
  "version": 168,
  "weekStart": ""
}